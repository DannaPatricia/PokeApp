import{a as C,_ as b,r as f,o as w,w as $,c as u,b as o,F as _,d as h,e as y,t as d,n as D,f as r,P as A,g as I,h as E,i as S,u as T}from"./index-ChDHJDrD.js";const x=C.create({baseURL:"https://pokeapi.co/api/v2/",withCredentials:!1,headers:{Accept:"application/json","Content-Type":"application/json"}});let g=JSON.parse(localStorage.getItem("pokemon-moves"))||[];const V={async getPokemonMoves(m){try{g=JSON.parse(localStorage.getItem("pokemon-moves"))||[];let i=g.find(a=>a.name.toLowerCase()===m.toLowerCase());if(i)return console.log("encontrado movimientos"+i),i.timeout=Date.now(),i.callingTimes+=1,localStorage.setItem("pokemon-moves",JSON.stringify(g)),i;g.length>=50&&(g.sort((a,l)=>a.callingTimes-l.callingTimes),g.shift());let n=(await x.get("move/"+m)).data,p=n.flavor_text_entries.find(a=>a.language.name==="en"),c={name:n.name,accuracy:n.accuracy,power:n.power,pp:n.pp,type:n.type,damage_class:n.damage_class,effect:p.flavor_text,timeout:Date.now(),callingTimes:1};return g.unshift(c),localStorage.setItem("pokemon-moves",JSON.stringify(g)),c}catch(i){console.log(i)}}},L={key:0},J={key:1,class:"pokemon-moves"},O=["onMouseover"],R={class:"nombreMovimiento"},B={class:"detail-item"},q=["src","alt"],j={class:"detail-item"},U=["src","alt"],F={class:"detail-item"},H={key:0,class:"detail-item"},z={key:1,class:"detail-item"},W={__name:"PokeViewMoves",props:{pokemonMoves:{required:!0}},setup(m){const i=m,t=f([]),n=f({});w(()=>{$(()=>{p(i.pokemonMoves)})});async function p(l){try{let e=[];for(const s of l){const v=await V.getPokemonMoves(s.move.name);e.push(v)}t.value=e}catch(e){console.log(e)}}function c(l){return`/PokeApp/damageClass/${l}.png`}function a(l){return`/PokeApp/tipos/${l}.png`}return(l,e)=>(r(),u(_,null,[e[7]||(e[7]=o("h2",null,"Movements",-1)),t.value.length?(r(),u("div",J,[(r(!0),u(_,null,h(t.value,s=>(r(),u("div",{class:"moves",key:s.name,onMouseover:v=>n.value=s.name,onMouseleave:e[0]||(e[0]=v=>n.value=null)},[o("div",{style:D({display:n.value===s.name?"block":"none"}),class:"description"},[e[1]||(e[1]=o("h3",null,"Description",-1)),o("p",null,d(s.effect),1)],4),o("h3",R,d(s.name),1),o("div",B,[e[2]||(e[2]=o("p",{class:"nombreAtributo"},"Type ",-1)),o("img",{src:a(s.type.name),alt:s.type.name},null,8,q)]),o("div",j,[e[3]||(e[3]=o("p",{class:"nombreAtributo"},"Class ",-1)),o("img",{src:c(s.damage_class.name),alt:s.damage_class.name},null,8,U)]),o("div",F,[e[4]||(e[4]=o("p",{class:"nombreAtributo"},"PP ",-1)),o("p",null,d(s.pp),1)]),s.power?(r(),u("div",H,[e[5]||(e[5]=o("p",{class:"nombreAtributo"},"Power ",-1)),o("p",null,d(s.power),1)])):y("",!0),s.accuracy?(r(),u("div",z,[e[6]||(e[6]=o("p",{class:"nombreAtributo"},"Accuracy ",-1)),o("p",null,d(s.accuracy),1)])):y("",!0)],40,O))),128))])):(r(),u("div",L,"Loading moves..."))],64))}},G=b(W,[["__scopeId","data-v-9536a9ce"]]),P=C.create({baseURL:"https://pokeapi.co/api/v2/",withCredentials:!1,headers:{Accept:"application/json","Content-Type":"application/json"}});localStorage.clear();let k=JSON.parse(localStorage.getItem("evolution-cache"))||[];const K={async getEvolutions(m,i){try{k=JSON.parse(localStorage.getItem("evolution-cache"))||[];let t=k.find(e=>e.evolutions.includes(i));if(t)return console.log("Cadena evolutiva encontrada en cache "+t.evolutions),t.timeout=Date.now(),t.callingTimes=t.callingTimes+1,localStorage.setItem("evolution-cache",JSON.stringify(k)),t.evolutions;k.length===12&&(k.sort((e,s)=>e.callingTimes-s.callingTimes),k.shift());let p=(await P.get(`pokemon-species/${m}`)).data.evolution_chain.url;p=p.replace("https://pokeapi.co/api/v2/","");const c=await P.get(p);let a=Q(c.data.chain),l={name:i,evolutions:a,timeout:Date.now(),callingTimes:1};return k.push(l),localStorage.setItem("evolution-cache",JSON.stringify(k)),l.evolutions}catch(t){console.log("Error al obtener cadena evolutiva"+t)}return P.get(`pokemon-species/${m}`)}};function Q(m){let i=[],t=[m];for(;t.length>0;){let n=t.shift();i.push(n.species.name),n.evolves_to&&n.evolves_to.length>0&&n.evolves_to.forEach(p=>{t.push(p)})}return i}const X={key:0,class:"evolutions"},Y={__name:"EvolutionsView",props:{pokemonId:{required:!0},pokemonName:{required:!0}},setup(m){const i=m,t=f([]),n=f([]);w(()=>{$(()=>{t.value=[],n.value=[],p(i.pokemonId,i.pokemonName)})});async function p(a,l){try{const e=await K.getEvolutions(a,l);n.value=e,c()}catch(e){console.log(e)}}async function c(){try{let a=[];for(const e of n.value){const s=await A.getPokemon(e);a.push(s)}const l=await Promise.all(a);for(const e of l)t.value.push(e)}catch{alert("El pokemon que buscas no existe en evolutionsview")}}return(a,l)=>(r(),u(_,null,[l[0]||(l[0]=o("h2",null,"Evolutions",-1)),t.value&&n.value?(r(),u("div",X,[(r(!0),u(_,null,h(t.value,e=>(r(),I(E,{pokemonData:e},null,8,["pokemonData"]))),256))])):y("",!0)],64))}},Z=b(Y,[["__scopeId","data-v-1aaefc6b"]]),ee={class:"pokemon-details"},oe={class:"stats-container"},te={class:"stat"},se={class:"nombreAtributo"},ne={__name:"PokeAbilitiesView",props:{abilityList:{required:!0}},setup(m){const i=m,t=f([]);w(()=>{$(()=>{n(i.abilityList)})});async function n(p){try{let c=[];for(const a of p){const l=await A.getPokemonAbility(a);c.push(l)}t.value=c}catch(c){console.log(c)}}return(p,c)=>(r(),u("div",ee,[c[0]||(c[0]=o("h2",null,"Abilities",-1)),(r(!0),u(_,null,h(t.value,a=>(r(),u("div",oe,[o("div",te,[o("p",se,d(a.name),1),o("p",null,d(a.effect),1)])]))),256))]))}},ae=b(ne,[["__scopeId","data-v-48fdca76"]]),ie={key:0,class:"pokemon-card-container poke-card"},le=["src"],re={class:"pokemon-details"},ce={class:"detail-item"},ue={class:"tipoPokemon"},pe=["src","alt"],me={class:"detail-item"},de={class:"detail-item"},ve={class:"detail-item"},ge={class:"stats-abilities"},ke={class:"pokemon-details"},_e={class:"stats-container"},fe={class:"stat"},he={class:"nombreAtributo"},ye={__name:"PokeViewDetails",props:{pokemonName:{required:!0}},setup(m){const i=m,t=f({}),n=T();w(()=>{$(()=>{p(i.pokemonName)})});async function p(e){try{const s=await A.getPokemon(e);t.value=s}catch{n.push({name:"404Resource",params:{resource:"pokemon"}})}}function c(e){return`/PokeApp/tipos/${e}.png`}function a(e){return{fire:"#e09e9e",water:"#808ec0",grass:"#a0d09b",electric:"#f4f3bf",poison:"#65536f",ice:"#adb8de",dragon:"#4f60e2",fairy:"#e8b5ed",steel:"#89898c",normal:"#626264",psychic:"#a86f93",rock:"#ae9d8e",bug:"#79856b",dark:"#535355",fighting:"#c5a370",ghost:"#7e6090",ground:"#8f7560",flying:"#9baeb8"}[e]}function l(e){const s=e[0].type.name,v=a(s);if(e.length===1)return{backgroundColor:v};const M=e[1].type.name,N=a(M);return{background:`linear-gradient(135deg, ${v}, ${N})`}}return(e,s)=>t.value.name?(r(),u("div",ie,[o("h1",null,d(t.value.name.toUpperCase()),1),o("div",{class:"pokemon",style:D(l(t.value.types))},[o("img",{src:t.value.sprites,alt:"{{ pokemon.name }}",class:"pokemon-image"},null,8,le)],4),s[5]||(s[5]=o("h2",null,"Description",-1)),o("div",re,[o("div",ce,[s[0]||(s[0]=o("p",{class:"nombreAtributo"},"Type",-1)),(r(!0),u(_,null,h(t.value.types,v=>(r(),u("div",ue,[o("img",{src:c(v.type.name),alt:v.type.name},null,8,pe)]))),256))]),o("div",me,[s[1]||(s[1]=o("p",{class:"nombreAtributo"},"Height",-1)),o("p",null,d(t.value.height/10)+" m",1)]),o("div",de,[s[2]||(s[2]=o("p",{class:"nombreAtributo"},"Weight",-1)),o("p",null,d(t.value.weight/10)+" kg",1)]),o("div",ve,[s[3]||(s[3]=o("p",{class:"nombreAtributo"},"Base Experience",-1)),o("p",null,d(t.value.base_experience),1)])]),o("div",ge,[o("div",ke,[s[4]||(s[4]=o("h2",null,"Stats",-1)),(r(!0),u(_,null,h(t.value.stats,v=>(r(),u("div",_e,[o("div",fe,[o("p",he,d(v.stat.name),1),o("p",null,d(v.base_stat),1)])]))),256))]),S(ae,{abilityList:t.value.abilities},null,8,["abilityList"])]),S(Z,{pokemonId:t.value.id,pokemonName:t.value.name},null,8,["pokemonId","pokemonName"]),t.value.moves?(r(),I(G,{key:0,pokemonMoves:t.value.moves},null,8,["pokemonMoves"])):y("",!0)])):y("",!0)}},we=b(ye,[["__scopeId","data-v-f2ef013e"]]);export{we as default};
